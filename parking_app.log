requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='parkonic.cloud', port=443): Read timed out. (read timeout=10)
2025-06-11 14:53:53 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 14:53:59 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:54:01 DEBUG    [parking_app:151] - Raw OCR response: '"{\\"uuid\\":\\"3fab3545-d629-44b2-87f6-761f556e9a72.jpg\\",\\"datetime\\":\\"2025-06-11 14:54:35.351\\",\\"Time_ms\\":null,\\"citycode\\":0,\\"category\\":null,\\"text\\":null,\\"cityName\\":null,\\"platetype\\":null,\\"confidance\\":0,\\"fileName\\":null,\\"backcolor\\":0,\\"textcolor\\":0,\\"plate_detail\\":[],\\"x1\\":0,\\"x2\\":0,\\"x3\\":0,\\"x4\\":0,\\"y1\\":0,\\"y2\\":0,\\"y3\\":0,\\"y4\\":0,\\"status\\":false}"'
2025-06-11 14:54:01 DEBUG    [parking_app:158] - After first json.loads: str
2025-06-11 14:54:01 DEBUG    [parking_app:170] - After second json.loads → dict
2025-06-11 14:54:01 DEBUG    [parking_app:184] - OCR confidance: 0
2025-06-11 14:54:01 DEBUG    [parking_app:203] - Confidence 0 < 5 → UNREAD
2025-06-11 14:54:01 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=10, status=UNREAD
2025-06-11 14:54:01 DEBUG    [parking_app:322] - Using existing manual_review id=12723 for UNREAD plate
2025-06-11 14:54:01 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12940
2025-06-11 14:54:01 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_145349_145405_12723.mp4 from 192.168.169.67
2025-06-11 14:54:03 DEBUG    [parking_app:104] - Spot 1 camera 11: same car detected → skip OCR/ticket
2025-06-11 14:54:04 DEBUG    [parking_app:933] - Spot 2 on camera 6 already occupied (ticket id=12908)
2025-06-11 14:54:05 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=4
2025-06-11 14:54:07 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:54:08 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=2
2025-06-11 14:54:14 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:54:18 DEBUG    [parking_app:905] - No open ticket to close for camera=1, spot=3
2025-06-11 14:54:22 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=2
2025-06-11 14:54:27 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:54:30 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:54:37 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:54:46 DEBUG    [parking_app:905] - No open ticket to close for camera=23, spot=3
2025-06-11 14:54:51 DEBUG    [parking_app:887] - Closed ticket id=12778 at 2025-06-11 14:55:10
2025-06-11 14:54:53 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:54:54 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:55:16 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 14:55:17 DEBUG    [parking_app:62] - Successfully saved clip to video_clips/clip_20250611_145349_145405_12723.mp4
2025-06-11 14:55:17 DEBUG    [parking_app:363] - Updated manual_reviews.clip_path=video_clips/clip_20250611_145349_145405_12723.mp4 for id=12723
2025-06-11 14:55:19 DEBUG    [parking_app:933] - Spot 4 on camera 4 already occupied (ticket id=12659)
2025-06-11 14:55:20 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:55:20 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=1
2025-06-11 14:55:21 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:55:23 DEBUG    [parking_app:104] - Spot 3 camera 1: same car detected → skip OCR/ticket
2025-06-11 14:55:30 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=2
2025-06-11 14:55:34 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:55:35 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:55:35 DEBUG    [parking_app:933] - Spot 4 on camera 23 already occupied (ticket id=12904)
2025-06-11 14:55:37 DEBUG    [parking_app:887] - Closed ticket id=12659 at 2025-06-11 14:56:01
2025-06-11 14:55:46 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 14:55:48 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:55:49 DEBUG    [parking_app:905] - No open ticket to close for camera=29, spot=4
2025-06-11 14:55:52 DEBUG    [parking_app:151] - Raw OCR response: '"{\\"uuid\\":\\"1407c5bd-2fca-4406-86fa-00ca950f7f0a.jpg\\",\\"datetime\\":\\"2025-06-11 14:56:26.601\\",\\"Time_ms\\":null,\\"citycode\\":0,\\"category\\":null,\\"text\\":null,\\"cityName\\":null,\\"platetype\\":null,\\"confidance\\":0,\\"fileName\\":null,\\"backcolor\\":0,\\"textcolor\\":0,\\"plate_detail\\":[],\\"x1\\":0,\\"x2\\":0,\\"x3\\":0,\\"x4\\":0,\\"y1\\":0,\\"y2\\":0,\\"y3\\":0,\\"y4\\":0,\\"status\\":false}"'
2025-06-11 14:55:52 DEBUG    [parking_app:158] - After first json.loads: str
2025-06-11 14:55:52 DEBUG    [parking_app:170] - After second json.loads → dict
2025-06-11 14:55:52 DEBUG    [parking_app:184] - OCR confidance: 0
2025-06-11 14:55:52 DEBUG    [parking_app:203] - Confidence 0 < 5 → UNREAD
2025-06-11 14:55:52 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=23, status=UNREAD
2025-06-11 14:55:52 DEBUG    [parking_app:322] - Using existing manual_review id=12724 for UNREAD plate
2025-06-11 14:55:52 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12941
2025-06-11 14:55:52 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_145605_145621_12724.mp4 from 192.168.169.85
2025-06-11 14:55:54 DEBUG    [parking_app:62] - Successfully saved clip to video_clips/clip_20250611_145605_145621_12724.mp4
2025-06-11 14:55:54 DEBUG    [parking_app:363] - Updated manual_reviews.clip_path=video_clips/clip_20250611_145605_145621_12724.mp4 for id=12724
2025-06-11 14:56:01 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=2
2025-06-11 14:56:01 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:56:04 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:56:04 DEBUG    [parking_app:933] - Spot 1 on camera 23 already occupied (ticket id=12901)
2025-06-11 14:56:14 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:56:15 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:56:17 DEBUG    [parking_app:933] - Spot 2 on camera 23 already occupied (ticket id=12902)
2025-06-11 14:56:18 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:56:27 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:56:29 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:56:31 DEBUG    [parking_app:104] - Spot 6 camera 23: same car detected → skip OCR/ticket
2025-06-11 14:56:32 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=29, status=UNREAD
2025-06-11 14:56:32 DEBUG    [parking_app:322] - Using existing manual_review id=12725 for UNREAD plate
2025-06-11 14:56:32 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12942
2025-06-11 14:56:32 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_145648_145704_12725.mp4 from 192.168.169.53
2025-06-11 14:56:36 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=10, Spot=1
2025-06-11 14:56:40 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:56:44 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:56:45 DEBUG    [parking_app:933] - Spot 7 on camera 23 already occupied (ticket id=12918)
2025-06-11 14:56:47 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=4
2025-06-11 14:56:50 DEBUG    [parking_app:933] - Spot 1 on camera 10 already occupied (ticket id=12940)
2025-06-11 14:57:00 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:57:05 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:57:08 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=4
2025-06-11 14:57:08 DEBUG    [parking_app:933] - Spot 3 on camera 29 already occupied (ticket id=12880)
2025-06-11 14:57:19 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:57:28 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:58:13 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:58:17 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:58:20 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:58:26 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:58:27 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:58:32 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:58:39 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:58:39 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:58:45 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:58:51 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:58:53 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:58:58 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=12, Spot=2
2025-06-11 14:59:00 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:59:04 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=1, Spot=4
2025-06-11 14:59:05 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:59:07 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:59:10 DEBUG    [parking_app:104] - Spot 2 camera 12: same car detected → skip OCR/ticket
2025-06-11 14:59:14 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:59:17 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:59:20 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 14:59:27 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 14:59:30 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 14:59:31 DEBUG    [parking_app:905] - No open ticket to close for camera=1, spot=2
2025-06-11 14:59:33 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 14:59:42 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 14:59:44 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 14:59:49 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:00:01 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:00:02 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:00:08 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:00:10 DEBUG    [parking_app:933] - Spot 1 on camera 9 already occupied (ticket id=12708)
2025-06-11 15:00:15 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:00:16 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:00:19 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:00:24 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:00:26 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:00:28 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:00:30 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:00:35 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:00:37 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:00:39 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:00:43 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:00:47 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:00:47 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:00:52 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:00:53 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:00:54 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:01:01 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:01:01 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:01:03 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:01:10 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:01:11 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:01:13 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:01:19 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:01:21 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:01:23 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:01:29 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:01:32 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:01:33 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:01:39 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:01:43 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:01:44 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:01:48 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:01:53 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:01:55 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:01:55 DEBUG    [parking_app:887] - Closed ticket id=12934 at 2025-06-11 15:02:24
2025-06-11 15:01:57 DEBUG    [parking_app:905] - No open ticket to close for camera=19, spot=4
2025-06-11 15:02:00 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:02:05 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:02:05 DEBUG    [parking_app:905] - No open ticket to close for camera=16, spot=4
2025-06-11 15:02:06 DEBUG    [parking_app:933] - Spot 1 on camera 25 already occupied (ticket id=12931)
2025-06-11 15:02:08 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:02:10 DEBUG    [parking_app:887] - Closed ticket id=12924 at 2025-06-11 15:02:35
2025-06-11 15:02:12 DEBUG    [parking_app:905] - No open ticket to close for camera=15, spot=5
2025-06-11 15:02:12 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:02:16 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=16, Spot=1
2025-06-11 15:02:18 DEBUG    [parking_app:887] - Closed ticket id=12931 at 2025-06-11 15:02:44
2025-06-11 15:02:19 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:02:19 DEBUG    [parking_app:905] - No open ticket to close for camera=20, spot=4
2025-06-11 15:02:20 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 15:02:23 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=19, status=UNREAD
2025-06-11 15:02:23 DEBUG    [parking_app:322] - Using existing manual_review id=12726 for UNREAD plate
2025-06-11 15:02:23 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12943
2025-06-11 15:02:23 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_150240_150256_12726.mp4 from 192.168.169.76
2025-06-11 15:02:24 DEBUG    [parking_app:104] - Spot 5 camera 15: same car detected → skip OCR/ticket
2025-06-11 15:02:24 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:02:25 DEBUG    [parking_app:62] - Successfully saved clip to video_clips/clip_20250611_150240_150256_12726.mp4
2025-06-11 15:02:25 DEBUG    [parking_app:363] - Updated manual_reviews.clip_path=video_clips/clip_20250611_150240_150256_12726.mp4 for id=12726
2025-06-11 15:02:27 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=16, Spot=3
2025-06-11 15:02:28 DEBUG    [parking_app:933] - Spot 2 on camera 8 already occupied (ticket id=12912)
2025-06-11 15:02:32 DEBUG    [parking_app:104] - Spot 4 camera 20: same car detected → skip OCR/ticket
2025-06-11 15:02:33 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:02:33 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=2
2025-06-11 15:02:35 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=19, Spot=5
2025-06-11 15:02:36 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:02:38 DEBUG    [parking_app:104] - Spot 4 camera 16: same car detected → skip OCR/ticket
2025-06-11 15:02:40 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=8, Spot=2
2025-06-11 15:02:44 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:02:46 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:02:47 DEBUG    [parking_app:905] - No open ticket to close for camera=19, spot=1
2025-06-11 15:02:47 DEBUG    [parking_app:887] - Closed ticket id=12928 at 2025-06-11 15:03:12
2025-06-11 15:02:48 DEBUG    [parking_app:104] - Spot 3 camera 16: same car detected → skip OCR/ticket
2025-06-11 15:02:48 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:02:55 DEBUG    [parking_app:905] - No open ticket to close for camera=20, spot=6
2025-06-11 15:02:59 DEBUG    [parking_app:905] - No open ticket to close for camera=15, spot=5
2025-06-11 15:02:59 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:03:00 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:03:00 DEBUG    [parking_app:104] - Spot 1 camera 16: same car detected → skip OCR/ticket
2025-06-11 15:03:00 DEBUG    [parking_app:104] - Spot 4 camera 19: same car detected → skip OCR/ticket
2025-06-11 15:03:01 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=1, Spot=6
2025-06-11 15:03:01 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:03:03 DEBUG    [parking_app:887] - Closed ticket id=12918 at 2025-06-11 15:03:27
2025-06-11 15:03:13 DEBUG    [parking_app:151] - Raw OCR response: '"{\\"uuid\\":\\"666d4acb-ca3f-42ed-a3d4-f597d6cef476.jpg\\",\\"datetime\\":\\"2025-06-11 15:03:47.820\\",\\"Time_ms\\":\\"297\\",\\"citycode\\":212920,\\"category\\":\\"X\\",\\"text\\":\\"60589\\",\\"cityName\\":\\"AE-DU\\",\\"platetype\\":\\"COMMON\\",\\"confidance\\":47,\\"fileName\\":\\"666d4acb-ca3f-42ed-a3d4-f597d6cef476.jpg\\",\\"backcolor\\":16777215,\\"textcolor\\":16777215,\\"plate_detail\\":[{\\"character\\":\\"X\\",\\"conf\\":99,\\"x1\\":345,\\"x2\\":351,\\"x3\\":350,\\"x4\\":344,\\"y1\\":333,\\"y2\\":333,\\"y3\\":342,\\"y4\\":341},{\\"character\\":\\"6\\",\\"conf\\":99,\\"x1\\":375,\\"x2\\":380,\\"x3\\":379,\\"x4\\":374,\\"y1\\":327,\\"y2\\":327,\\"y3\\":341,\\"y4\\":341},{\\"character\\":\\"0\\",\\"conf\\":100,\\"x1\\":381,\\"x2\\":387,\\"x3\\":386,\\"x4\\":380,\\"y1\\":327,\\"y2\\":327,\\"y3\\":341,\\"y4\\":341},{\\"character\\":\\"5\\",\\"conf\\":99,\\"x1\\":388,\\"x2\\":393,\\"x3\\":393,\\"x4\\":387,\\"y1\\":327,\\"y2\\":327,\\"y3\\":341,\\"y4\\":341},{\\"character\\":\\"8\\",\\"conf\\":98,\\"x1\\":395,\\"x2\\":400,\\"x3\\":399,\\"x4\\":394,\\"y1\\":328,\\"y2\\":328,\\"y3\\":342,\\"y4\\":341},{\\"character\\":\\"9\\",\\"conf\\":99,\\"x1\\":401,\\"x2\\":406,\\"x3\\":405,\\"x4\\":400,\\"y1\\":328,\\"y2\\":328,\\"y3\\":342,\\"y4\\":342}],\\"x1\\":338,\\"x2\\":426,\\"x3\\":425,\\"x4\\":337,\\"y1\\":323,\\"y2\\":326,\\"y3\\":345,\\"y4\\":342,\\"status\\":true}"'
2025-06-11 15:03:13 DEBUG    [parking_app:158] - After first json.loads: str
2025-06-11 15:03:13 DEBUG    [parking_app:170] - After second json.loads → dict
2025-06-11 15:03:13 DEBUG    [parking_app:184] - OCR confidance: 47
2025-06-11 15:03:13 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=20, status=READ
2025-06-11 15:03:13 INFO     [parking_app:63] - [PARK-IN] Sending payload: {'token': 'dBOs11IDXwseQCb3bLvHxNv0Gx4HLC21UQ', 'parkin_time': '2025-06-11 15:03:34', 'plate_code': 'X', 'plate_number': '60589', 'emirates': 'Dubai', 'conf': '47', 'spot_number': 6, 'pole_id': 586}
2025-06-11 15:03:14 DEBUG    [parking_app:887] - Closed ticket id=12936 at 2025-06-11 15:03:35
2025-06-11 15:03:14 DEBUG    [parking_app:275] - park_in_request returned: {"message":"TOKEN NOT VALID","status":false}
2025-06-11 15:03:14 ERROR    [parking_app:300] - park_in_request failed
Traceback (most recent call last):
  File "C:\Users\USER\Documents\streetserver2\ocr_processor.py", line 277, in process_plate_and_issue_ticket
    trip_id = ticket_resp.get("trip_id")
AttributeError: 'str' object has no attribute 'get'
2025-06-11 15:03:15 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=16, Spot=1
2025-06-11 15:03:16 DEBUG    [parking_app:104] - Spot 5 camera 15: same car detected → skip OCR/ticket
2025-06-11 15:03:16 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 15:03:17 DEBUG    [parking_app:104] - Spot 1 camera 19: same car detected → skip OCR/ticket
2025-06-11 15:03:18 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:03:18 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=1, Spot=3
2025-06-11 15:03:18 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:03:19 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=6
2025-06-11 15:03:26 DEBUG    [parking_app:933] - Spot 1 on camera 6 already occupied (ticket id=12894)
2025-06-11 15:03:27 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=16, Spot=3
2025-06-11 15:03:30 DEBUG    [parking_app:887] - Closed ticket id=12708 at 2025-06-11 15:03:55
2025-06-11 15:03:32 DEBUG    [parking_app:905] - No open ticket to close for camera=19, spot=1
2025-06-11 15:03:33 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=1, Spot=1
2025-06-11 15:03:33 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:03:33 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=2
2025-06-11 15:03:33 DEBUG    [parking_app:104] - Spot 1 camera 21: same car detected → skip OCR/ticket
2025-06-11 15:03:35 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:03:35 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=5
2025-06-11 15:03:42 DEBUG    [parking_app:104] - Spot 1 camera 16: same car detected → skip OCR/ticket
2025-06-11 15:03:42 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=6, Spot=1
2025-06-11 15:03:45 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=19, Spot=4
2025-06-11 15:03:45 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=9, Spot=3
2025-06-11 15:03:46 DEBUG    [parking_app:933] - Spot 6 on camera 1 already occupied (ticket id=12926)
2025-06-11 15:03:47 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:03:47 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:03:49 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=4
2025-06-11 15:03:50 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:03:55 DEBUG    [parking_app:104] - Spot 3 camera 16: same car detected → skip OCR/ticket
2025-06-11 15:03:58 DEBUG    [parking_app:933] - Spot 1 on camera 6 already occupied (ticket id=12894)
2025-06-11 15:04:01 DEBUG    [parking_app:104] - Spot 5 camera 1: same car detected → skip OCR/ticket
2025-06-11 15:04:02 DEBUG    [parking_app:104] - Spot 1 camera 19: same car detected → skip OCR/ticket
2025-06-11 15:04:02 DEBUG    [parking_app:104] - Spot 3 camera 24: same car detected → skip OCR/ticket
2025-06-11 15:04:02 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:04:03 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=12, Spot=1
2025-06-11 15:04:04 DEBUG    [parking_app:887] - Closed ticket id=12380 at 2025-06-11 15:04:26
2025-06-11 15:04:05 DEBUG    [parking_app:151] - Raw OCR response: '"{\\"uuid\\":\\"bc216776-cc0c-4a1f-874d-97ce21c758c4.jpg\\",\\"datetime\\":\\"2025-06-11 15:04:39.351\\",\\"Time_ms\\":null,\\"citycode\\":0,\\"category\\":null,\\"text\\":null,\\"cityName\\":null,\\"platetype\\":null,\\"confidance\\":0,\\"fileName\\":null,\\"backcolor\\":0,\\"textcolor\\":0,\\"plate_detail\\":[],\\"x1\\":0,\\"x2\\":0,\\"x3\\":0,\\"x4\\":0,\\"y1\\":0,\\"y2\\":0,\\"y3\\":0,\\"y4\\":0,\\"status\\":false}"'
2025-06-11 15:04:05 DEBUG    [parking_app:158] - After first json.loads: str
2025-06-11 15:04:05 DEBUG    [parking_app:170] - After second json.loads → dict
2025-06-11 15:04:05 DEBUG    [parking_app:184] - OCR confidance: 0
2025-06-11 15:04:05 DEBUG    [parking_app:203] - Confidence 0 < 5 → UNREAD
2025-06-11 15:04:05 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=9, status=UNREAD
2025-06-11 15:04:05 DEBUG    [parking_app:322] - Using existing manual_review id=12728 for UNREAD plate
2025-06-11 15:04:05 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12944
2025-06-11 15:04:05 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_150417_150433_12728.mp4 from 192.168.169.66
2025-06-11 15:04:05 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=23, Spot=2
2025-06-11 15:04:06 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:04:18 DEBUG    [parking_app:151] - Raw OCR response: '"{\\"uuid\\":\\"50b5653e-ae6f-46b0-954c-9a014672964a.jpg\\",\\"datetime\\":\\"2025-06-11 15:04:52.367\\",\\"Time_ms\\":null,\\"citycode\\":0,\\"category\\":null,\\"text\\":null,\\"cityName\\":null,\\"platetype\\":null,\\"confidance\\":0,\\"fileName\\":null,\\"backcolor\\":0,\\"textcolor\\":0,\\"plate_detail\\":[],\\"x1\\":0,\\"x2\\":0,\\"x3\\":0,\\"x4\\":0,\\"y1\\":0,\\"y2\\":0,\\"y3\\":0,\\"y4\\":0,\\"status\\":false}"'
2025-06-11 15:04:18 DEBUG    [parking_app:158] - After first json.loads: str
2025-06-11 15:04:18 DEBUG    [parking_app:170] - After second json.loads → dict
2025-06-11 15:04:18 DEBUG    [parking_app:184] - OCR confidance: 0
2025-06-11 15:04:18 DEBUG    [parking_app:203] - Confidence 0 < 5 → UNREAD
2025-06-11 15:04:18 DEBUG    [parking_app:237] - Inserted into plate_logs: camera_id=21, status=UNREAD
2025-06-11 15:04:18 DEBUG    [parking_app:322] - Using existing manual_review id=12729 for UNREAD plate
2025-06-11 15:04:18 DEBUG    [parking_app:337] - Inserted UNREAD ticket into tickets: id=12945
2025-06-11 15:04:18 DEBUG    [parking_app:49] - Attempt 1/3: requesting clip video_clips/clip_20250611_150426_150442_12729.mp4 from 192.168.169.83
2025-06-11 15:04:19 DEBUG    [parking_app:933] - Spot 1 on camera 12 already occupied (ticket id=12929)
2025-06-11 15:04:20 DEBUG    [parking_app:104] - Spot 3 camera 1: same car detected → skip OCR/ticket
2025-06-11 15:04:20 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=9, Spot=5
2025-06-11 15:04:21 DEBUG    [parking_app:104] - Spot 4 camera 19: same car detected → skip OCR/ticket
2025-06-11 15:04:22 DEBUG    [parking_app:104] - Spot 2 camera 5: same car detected → skip OCR/ticket
2025-06-11 15:04:22 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=24, Spot=3
2025-06-11 15:04:24 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:04:24 DEBUG    [parking_app:887] - Closed ticket id=12941 at 2025-06-11 15:04:43
2025-06-11 15:04:26 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:04:36 DEBUG    [parking_app:933] - Spot 1 on camera 1 already occupied (ticket id=12900)
2025-06-11 15:04:36 DEBUG    [parking_app:104] - Spot 3 camera 9: same car detected → skip OCR/ticket
2025-06-11 15:04:40 DEBUG    [parking_app:104] - Spot 4 camera 24: same car detected → skip OCR/ticket
2025-06-11 15:04:44 DEBUG    [parking_app:104] - Spot 7 camera 23: same car detected → skip OCR/ticket
2025-06-11 15:04:46 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
2025-06-11 15:04:54 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=21, Spot=3
2025-06-11 15:05:02 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=29, Spot=5
2025-06-11 15:05:04 DEBUG    [parking_app:933] - Spot 1 on camera 18 already occupied (ticket id=12919)
2025-06-11 15:05:04 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=1, Spot=1
2025-06-11 15:05:07 DEBUG    [parking_app:104] - Spot 5 camera 9: same car detected → skip OCR/ticket
2025-06-11 15:05:13 DEBUG    [parking_app:933] - Spot 1 on camera 5 already occupied (ticket id=12932)
2025-06-11 15:05:14 DEBUG    [parking_app:905] - No open ticket to close for camera=24, spot=4
2025-06-11 15:05:30 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=4, Spot=1
2025-06-11 15:05:32 DEBUG    [parking_app:933] - Spot 5 on camera 29 already occupied (ticket id=12829)
2025-06-11 15:05:36 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=18, Spot=1
2025-06-11 15:05:40 DEBUG    [parking_app:104] - Spot 6 camera 23: same car detected → skip OCR/ticket
2025-06-11 15:05:43 DEBUG    [parking_app:933] - Spot 1 on camera 1 already occupied (ticket id=12900)
2025-06-11 15:05:45 DEBUG    [parking_app:858] - EXIT report ignored (false‐clear). Camera=5, Spot=1
